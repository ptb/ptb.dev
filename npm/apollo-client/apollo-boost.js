/*! @copyright Apollo GraphQL | @license MIT | @link apollographql.com | @version 0.3.1 *//* eslint-disable */import{__extends as e}from"./tslib.js";import r from"./apollo-client.js";export*from"./apollo-client.js";import{ApolloLink as t,Observable as o}from"./apollo-link.js";export*from"./apollo-link.js";import{InMemoryCache as n}from"./apollo-cache-inmemory.js";export*from"./apollo-cache-inmemory.js";import{HttpLink as i}from"./apollo-link-http.js";export{HttpLink}from"./apollo-link-http.js";import{onError as a}from"./apollo-link-error.js";export{default as gql}from"./graphql-tag.js";import{invariant as s}from"./ts-invariant.js";var c=["request","uri","credentials","headers","fetch","fetchOptions","clientState","onError","cacheRedirects","cache","name","version","resolvers","typeDefs","fragmentMatcher"];export default(function(r){function l(e){if(void 0===e&&(e={}),e){var l=Object.keys(e).filter(function(e){return-1===c.indexOf(e)});l.length}var f=e.request,p=e.uri,m=e.credentials,h=e.headers,u=e.fetch,d=e.fetchOptions,v=e.clientState,j=e.cacheRedirects,g=e.onError,b=e.name,k=e.version,x=e.resolvers,w=e.typeDefs,y=e.fragmentMatcher,q=e.cache;s(!q||!j,1),q||(q=j?new n({cacheRedirects:j}):new n);var D=a(g||function(e){var r=e.graphQLErrors;e.networkError;r&&r.map(function(e){e.message,e.locations,e.path;return!0})}),O=!!f&&new t(function(e,r){return new o(function(t){var o;return Promise.resolve(e).then(function(e){return f(e)}).then(function(){o=r(e).subscribe({next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)})}).catch(t.error.bind(t)),function(){o&&o.unsubscribe()}})}),E=new i({uri:p||"/graphql",fetch:u,fetchOptions:d||{},credentials:m||"same-origin",headers:h||{}}),M=t.from([D,O,E].filter(function(e){return!!e})),R=x,L=w,S=y;return v&&(v.defaults&&q.writeData({data:v.defaults}),R=v.resolvers,L=v.typeDefs,S=v.fragmentMatcher),r.call(this,{cache:q,link:M,name:b,version:k,resolvers:R,typeDefs:L,fragmentMatcher:S})||this}return e(l,r),l}(r));